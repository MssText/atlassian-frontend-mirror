## API Report File for "@atlaskit/profilecard".

> Do not edit this file. This report is auto-generated by [API Extractor](https://api-extractor.com/).

[Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

```ts
/// <reference types="react" />

import { AnalyticsEventPayload } from '@atlaskit/analytics-next';
import { ComponentType } from 'react';
import { CreateUIAnalyticsEvent } from '@atlaskit/analytics-next';
import { IntlShape } from 'react-intl-next';
import { LRUCache } from 'lru-fast';
import { default as React_2 } from 'react';
import { WithAnalyticsEventsProps } from '@atlaskit/analytics-next';

declare type AnalyticsFromDuration = (
  duration: number,
) => AnalyticsEventPayload;

declare type AnalyticsFunction = (generator: AnalyticsFromDuration) => void;

declare interface AnalyticsProps {
  createAnalyticsEvent?: CreateUIAnalyticsEvent;
}

export declare interface ApiClientResponse {
  User: {
    id: string;
    isBot: boolean;
    isCurrentUser: boolean;
    avatarUrl: string | null;
    email: string | null;
    fullName: string | null;
    location: string | null;
    meta: string | null;
    nickname: string | null;
    companyName: string | null;
    remoteTimeString: string | null;
    remoteWeekdayIndex: string | null;
    remoteWeekdayString: string | null;
    status: StatusType;
    statusModifiedDate: number | null;
  };
}

declare interface CacheConfig {
  cacheSize?: number;
  cacheMaxAge?: number;
}

declare interface CachedData<T> {
  expire: number;
  profile: T;
}

declare class CachingClient<T> {
  config: Required<CacheConfig>;
  cache: LRUCache<string, CachedData<T>> | null;
  constructor(config: CacheConfig);
  setCachedProfile(cacheIdentifier: string, profile: T): void;
  getCachedProfile(cacheIdentifier: string): T | null;
  flushCache(): void;
}

declare interface ClientOverrides {
  userClient?: UserProfileClient;
  teamClient?: TeamProfileClient;
  teamCentralClient?: TeamCentralCardClient;
}

declare const _default: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<
      ProfileCardResourcedProps & AnalyticsProps,
      keyof WithAnalyticsEventsProps
    >,
    never
  > &
    Partial<
      Pick<
        Omit<
          ProfileCardResourcedProps & AnalyticsProps,
          keyof WithAnalyticsEventsProps
        >,
        keyof ProfileCardResourcedProps
      >
    > &
    Partial<Pick<Partial<ProfileCardResourcedProps>, never>> &
    React_2.RefAttributes<any>
>;
export default _default;

export declare const DELAY_MS_HIDE = 200;

export declare const DELAY_MS_SHOW = 800;

declare type FeatureFlagExtraContext = {
  key: string;
  value: string;
};

declare type LozengeColor =
  | 'default'
  | 'success'
  | 'removed'
  | 'inprogress'
  | 'new'
  | 'moved';

declare interface LozengeProps {
  text: React_2.ReactNode;
  appearance?: LozengeColor;
  isBold?: boolean;
}

export declare interface MessageIntlProviderProps {
  children: React_2.ReactNode;
  intl: IntlShape;
}

/**
 * Transform response from GraphQL
 * - Prefix `timestring` with `remoteWeekdayString` depending on `remoteWeekdayIndex`
 * - Remove properties which will be not used later
 * @ignore
 * @param  {object} response
 * @return {object}
 */
export declare const modifyResponse: (
  response: ApiClientResponse,
) => ProfileCardClientData;

export declare const ProfileCard: React_2.ForwardRefExoticComponent<
  Omit<ProfilecardProps & AnalyticsProps, keyof WithAnalyticsEventsProps> &
    React_2.RefAttributes<any>
>;

export declare interface ProfileCardAction {
  callback?: (...args: any[]) => any;
  shouldRender?: (data: any) => boolean;
  id?: string;
  label: React_2.ReactNode;
  link?: string;
}

export declare interface ProfileCardClientData {
  isBot: boolean;
  isCurrentUser: boolean;
  avatarUrl?: string;
  email?: string;
  fullName?: string;
  location?: string;
  meta?: string;
  nickname?: string;
  companyName?: string;
  timestring?: string;
  status: StatusType;
  statusModifiedDate?: number | null;
  customLozenges?: LozengeProps[];
}

export declare type ProfileCardErrorType = {
  reason: 'default' | 'NotFound';
} | null;

export declare interface ProfilecardProps {
  isLoading?: boolean;
  hasError?: boolean;
  errorType?: ProfileCardErrorType;
  status?: StatusType;
  isBot?: boolean;
  avatarUrl?: string;
  fullName?: string;
  meta?: string;
  userId?: string;
  isCurrentUser?: boolean;
  nickname?: string;
  email?: string;
  location?: string;
  companyName?: string;
  timestring?: string;
  actions?: ProfileCardAction[];
  clientFetchProfile?: () => void;
  statusModifiedDate?: number | null;
  withoutElevation?: boolean;
  /** Show manager and direct reports section on profile hover card, if available */
  reportingLines?: TeamCentralReportingLinesData;
  /** Base URL to populate href value for manager's and direct reports' user avatar  */
  reportingLinesProfileUrl?: string;
  /** Click handler when user clicks on manager's and direct reports' user avatar, un-clickable otherwise */
  onReportingLinesClick?: (user: ReportingLinesUser) => void;
  isKudosEnabled?: boolean;
  teamCentralBaseUrl?: string;
  addFlag?: (flag: any) => void;
  cloudId?: string;
  disabledAccountMessage?: React_2.ReactNode;
  hasDisabledAccountLozenge?: boolean;
  customLozenges?: LozengeProps[];
  openKudosDrawer?: () => void;
}

export declare interface ProfileCardResourcedProps {
  userId: string;
  cloudId: string;
  resourceClient: ProfileClient_2;
  actions?: ProfileCardAction[];
  reportingLinesProfileUrl?: string;
  onReportingLinesClick?: (user: ReportingLinesUser) => void;
  position?: ProfilecardTriggerPosition;
  trigger?: TriggerType;
  children?: React_2.ReactNode;
  addFlag?: (flag: any) => void;
}

export declare interface ProfileCardResourcedState {
  visible?: boolean;
  isLoading?: boolean;
  hasError: boolean;
  error?: ProfileCardErrorType;
  data: ProfileCardClientData | null;
  reportingLinesData?: TeamCentralReportingLinesData;
  isKudosEnabled?: boolean;
  kudosDrawerOpen: boolean;
}

export declare const ProfileCardTrigger: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<
      ProfileCardTriggerProps & AnalyticsProps,
      keyof WithAnalyticsEventsProps
    >,
    never
  > &
    Partial<
      Pick<
        Omit<
          ProfileCardTriggerProps & AnalyticsProps,
          keyof WithAnalyticsEventsProps
        >,
        keyof ProfileCardTriggerProps
      >
    > &
    Partial<Pick<Partial<ProfileCardTriggerProps>, never>> &
    React_2.RefAttributes<any>
>;

export declare type ProfilecardTriggerPosition =
  | 'bottom-start'
  | 'bottom'
  | 'bottom-end'
  | 'left-start'
  | 'left'
  | 'left-end'
  | 'top-end'
  | 'top'
  | 'top-start'
  | 'right-end'
  | 'right'
  | 'right-start';

export declare interface ProfileCardTriggerProps {
  userId: string;
  /**
     A cloudId can be provided, and we'll verify that the target userId is an
     actual user in the specified site.

     Instead you can omit the cloudId and we won't do such a check.

     If you have a cloudId and only want to show users who are in that site
     then please provide it. If you're a site-less product or don't care about
     verifying that the shown user is in a particular site, don't provide a
     cloudId.
     */
  cloudId?: string;
  resourceClient: ProfileClient_2;
  actions?: ProfileCardAction[];
  reportingLinesProfileUrl?: string;
  onReportingLinesClick?: (user: ReportingLinesUser) => void;
  position?: ProfilecardTriggerPosition;
  trigger?: TriggerType;
  children?: React_2.ReactNode;
  testId?: string;
  addFlag?: (flag: any) => void;
}

export declare interface ProfileCardTriggerState {
  visible?: boolean;
  isLoading?: boolean;
  hasError: boolean;
  error?: ProfileCardErrorType;
  data: ProfileCardClientData | null;
  reportingLinesData?: TeamCentralReportingLinesData;
  shouldShowGiveKudos?: boolean;
  teamCentralBaseUrl?: string;
  kudosDrawerOpen: boolean;
}

export declare class ProfileClient {
  userClient: UserProfileClient;
  teamClient: TeamProfileClient;
  tcClient?: TeamCentralCardClient;
  constructor(config: ProfileClientOptions, clients?: ClientOverrides);
  flushCache(): void;
  getProfile(
    cloudId: string,
    userId: string,
    analytics?: (event: AnalyticsEventPayload) => void,
  ): Promise<any>;
  getTeamProfile(
    teamId: string,
    orgId?: string,
    analytics?: (event: AnalyticsEventPayload) => void,
  ): Promise<Team>;
  getReportingLines(userId: string): Promise<TeamCentralReportingLinesData>;
  getTeamCentralBaseUrl(): string | undefined;
  shouldShowGiveKudos(): Promise<boolean>;
}

declare interface ProfileClient_2 {
  flushCache: () => void;
  getProfile: (
    cloudId: string,
    userId: string,
    analytics?: (event: AnalyticsEventPayload) => void,
  ) => Promise<ProfileCardClientData>;
  getTeamProfile: (
    teamId: string,
    orgId?: string,
    fireAnalytics?: (event: AnalyticsEventPayload) => void,
  ) => Promise<Team>;
  getReportingLines: (userId: string) => Promise<TeamCentralReportingLinesData>;
  shouldShowGiveKudos: () => Promise<boolean>;
  getTeamCentralBaseUrl: () => string | undefined;
}

export declare interface ProfileClientOptions {
  url: string;
  gatewayGraphqlUrl?: string;
  cacheSize?: number;
  cacheMaxAge?: number;
  /** Enables Team Central functionality if enabled e.g. /gateway/api/watermelon/graphql*/
  teamCentralUrl?: string;
  /** URL to the Team Central app e.g. team.atlassian.com */
  teamCentralBaseUrl?: string;
  /** Name of integrating product e.g. jira, atlas, confluence **/
  productIdentifier?: string;
}

export declare type RelativeDateKeyType =
  | 'ThisWeek'
  | 'ThisMonth'
  | 'LastMonth'
  | 'AFewMonths'
  | 'SeveralMonths'
  | 'MoreThanAYear'
  | null;

declare interface ReportingLinesUser {
  accountIdentifier: string;
  identifierType: 'ATLASSIAN_ID' | 'BASE64_HASH' | 'UNKNOWN';
  pii?: ReportingLinesUserPII;
}

declare interface ReportingLinesUserPII {
  name: string;
  picture?: string;
}

export declare type StatusModifiedDateType =
  | 'noDate'
  | 'thisWeek'
  | 'thisMonth'
  | 'lastMonth'
  | 'aFewMonths'
  | 'severalMonths'
  | 'moreThanAYear';

export declare type StatusType = 'active' | 'inactive' | 'closed';

export declare interface Team {
  largeAvatarImageUrl?: string;
  smallAvatarImageUrl?: string;
  largeHeaderImageUrl?: string;
  smallHeaderImageUrl?: string;
  id: string;
  displayName: string;
  description: string;
  organizationId?: string;
  members?: {
    id: string;
    fullName: string;
    avatarUrl: string;
  }[];
}

declare class TeamCentralCardClient extends CachingClient<
  TeamCentralReportingLinesData
> {
  options: TeamCentralCardClientOptions;
  /**
   * Simple circuit breaker to avoid making unnecessary calls to Team Central on auth failures
   * This is to handle the case where products may have provided teamCentralUrl, but the site itself
   * doesn't actually have any TC product.
   *
   * There's currently no way to reset this circuit breaker, but that's fine. This is meant to
   * catch a pretty specific edge case.
   */
  bypassOnFailure: boolean;
  featureFlagKeys: Map<string, boolean>;
  constructor(options: TeamCentralCardClientOptions);
  makeFeatureFlagCheckRequest(
    featureKey: string,
    context?: FeatureFlagExtraContext[],
  ): Promise<boolean>;
  makeRequest(userId: string): Promise<TeamCentralReportingLinesData>;
  getReportingLines(userId: string): Promise<TeamCentralReportingLinesData>;
  getFlagEnabled(
    featureKey: string,
    productIdentifier?: string,
  ): Promise<boolean>;
  private filterReportingLinesUser;
}

declare type TeamCentralCardClientOptions = ProfileClientOptions & {
  teamCentralUrl: string;
};

declare interface TeamCentralReportingLinesData {
  managers?: ReportingLinesUser[];
  reports?: ReportingLinesUser[];
}

export declare const TeamProfileCard: (
  props: TeamProfilecardProps,
) => JSX.Element | null;

declare interface TeamProfilecardCoreProps {
  /**
     The id of the user viewing the profile card.

     This is used to determine whether to say that the member count is
     "including you" or not.
     */
  viewingUserId?: string;
  /**
     A list of extra buttons to be displayed at the bottom of the card.
     View Profile is always included by default.
     */
  actions?: ProfileCardAction[];
  /**
     A function allowing products to provide an href for the user avatars in the
     profilecard, e.g. so they can link to user's profile pages.
     */
  generateUserLink?: (userId: string) => string;
  /**
     A function allowing products to provide an onClick handler for when the
     user clicks on a user's avatar or avatar group item.
     */
  onUserClick?: (userId: string, event: React_2.MouseEvent<Element>) => void;
  /**
     This should be a link to the team's profile page. This will be used for:

     - Wrapping the trigger in a link to the team profile page (unless
     triggerLinkType is `none`).

     - Providing the link for the View Profile action button on the card.
     */
  viewProfileLink: string;
  /**
     An onClick action that navigates to the team's profile page. Something you
     may want, e.g. for an SPA site or tracking analytics of navigation. This
     is optional, just the viewProfileLink will suffice. Will be used for:

     - Adding an onClick to the trigger if the triggerLinkType is
     `clickable-link`.

     - Providing an onClick for the View Profile action button on the card.
     */
  viewProfileOnClick?: (event?: React_2.MouseEvent<Element>) => void;
}

declare interface TeamProfilecardProps extends TeamProfilecardCoreProps {
  /** Indicates whether the team's details are still loading. */
  isLoading?: boolean;
  /** Indicates whether an error occurred whilst fetching team details. */
  hasError?: boolean;
  /** Describes the type of error that occurred, if any. */
  errorType?: ProfileCardErrorType;
  /** The details of the team to be shown. */
  team?: Team;
  /** A callback that will try to re-fetch data in case an error occurred. */
  clientFetchProfile?: () => void;
  /** Details relevant to passing around analytics. */
  analytics: AnalyticsFunction;
}

export declare const TeamProfileCardTrigger: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<
      TeamProfileCardTriggerProps & AnalyticsProps,
      keyof WithAnalyticsEventsProps
    >,
    never
  > &
    Partial<
      Pick<
        Omit<
          TeamProfileCardTriggerProps & AnalyticsProps,
          keyof WithAnalyticsEventsProps
        >,
        keyof TeamProfileCardTriggerProps
      >
    > &
    Partial<Pick<Partial<TeamProfileCardTriggerProps>, never>> &
    React_2.RefAttributes<any>
>;

declare interface TeamProfileCardTriggerProps extends TeamProfilecardCoreProps {
  /** The id of the team. */
  teamId: string;
  /**
     The id of the organization that the team belongs to.
     Currently this is unused, but will become necessary in the future.
     */
  orgId: string;
  /** An instance of ProfileClient. */
  resourceClient: ProfileClient_2;
  /**
     The position relative to the trigger that the card should be displayed in.
     */
  position?: ProfilecardTriggerPosition;
  /**
     The interaction method used to trigger the team profile card to appear.

     - Click is generally recommended, but your needs may vary.

     - Hover works for mouse users, but does not support those who use a
     keyboard or screen reader, avoid using this if it's possible or makes
     sense.

     - Hover-click is usable for scenarios like inline-edits, where mouse users
     cannot click on the trigger without causing side effects, but keyboard
     users are still able to navigate into and trigger the profile card.

     Look at the "Team Profilecard Trigger" or "Trigger Link Types" examples to
     see how they behave, or ask in #team-twp-people-teams on Slack for our
     recommendations.
     */
  trigger?: 'hover' | 'click' | 'hover-click';
  /**
     We generally prefer to wrap the trigger in a link to the team profile
     page. This prop determines how that link behaves.

     - Link is generally the recommended prop (especially in combination with
     click or hover-click for the trigger prop above). It wraps the trigger in
     an anchor tag with the team profile link (that users can interact with
     via middle-click, etc.), but left clicking on the link is suppressed.

     - None does not wrap the trigger in a link at all. This makes it difficult
     for keyboard or screen reader users to know how to trigger the profile
     card. Generally avoid this.

     - Clickable-link wraps the trigger in a link with no special behaviour.
     This is suitable for places where you want the trigger to serve primarily
     as a link, and optionally allow hovering to preview the team first.

     Look at the example on "Trigger Link Types" for more in-depth analysis, or
     ask in #team-twp-people-teams on Slack for our recommendations.
     */
  triggerLinkType?: 'none' | 'link' | 'clickable-link';
  /**
     This is the component that will cause a team profile card to appear when
     interacted with according to the method specified by the trigger prop.
     */
  children?: React_2.ReactNode;
  /**
   * Used by the card to show Flags.
   */
  addFlag?: (flag: any) => void;
  /**
   * Optional cloudId. Pass this if rendering card within a sited context.
   */
  cloudId?: string;
}

export declare class TeamProfileClient extends CachingClient<Team> {
  options: ProfileClientOptions;
  constructor(options: ProfileClientOptions);
  makeRequestViaGateway(
    teamId: string,
    _orgId: string | undefined,
  ): Promise<Team>;
  makeRequest(teamId: string, orgId: string | undefined): Promise<Team>;
  getProfile(
    teamId: string,
    orgId: string | undefined,
    analytics?: (event: AnalyticsEventPayload) => void,
  ): Promise<Team>;
}

export declare type TriggerType = 'hover' | 'click';

export declare class UserProfileClient extends CachingClient<any> {
  options: ProfileClientOptions;
  constructor(options: ProfileClientOptions);
  makeRequest(cloudId: string, userId: string): Promise<ProfileCardClientData>;
  getProfile(
    cloudId: string,
    userId: string,
    analytics?: (event: AnalyticsEventPayload) => void,
  ): Promise<any>;
}

export declare function withOuterListeners<P>(
  Component: ComponentType<P>,
): React_2.ComponentClass<P & WithOuterListenersProps>;

export declare interface WithOuterListenersProps {
  handleClickOutside?: () => void;
  handleEscapeKeydown?: () => void;
}

export {};
```
