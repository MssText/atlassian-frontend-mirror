---
title: Getting started in code
description: Learn how to set up and use design tokens in code.
---

import SectionMessage from '@atlaskit/section-message';

<SectionMessage
  title={'Tokens and theming are in beta — expect frequent changes'}
  appearance={'warning'}
>
  <p>
    We recommend that only Atlassian employees use design tokens and theming in
    production for now. We will post an update in the developer community when
    they are ready for adoption.
  </p>
</SectionMessage>

## Before you begin

Before reading this guide, make sure you understand the basics of [design tokens](/components/tokens/).

Next, make sure you [have your environment set up to use theming and tokens.](https://atlaskit.atlassian.com/get-started) Install the tokens package, and import the CSS themes in your application. Depending on your bundler, your configuration may differ.

```shell
yarn add @atlaskit/tokens
```

```tsx
import '@atlaskit/tokens/css/atlassian-light.css';
import '@atlaskit/tokens/css/atlassian-dark.css';
```

During the initial rollout, only import `atlassian-light.css` to reduce your application size. Do not provide dark mode support until the official public rollout date, which is still to be determined.

## Using themes

The CSS files in `@atlaskit/tokens/css`add support for light and dark themes to your application. The structure of these files are shown below:

```css
/* atlassian-light.css */
:root,
html[data-theme='light'] {
  --ds-background-sunken: #091e4208;
  --ds-background-default: #ffffff;
  --ds-background-card: #ffffff;
  --ds-background-overlay: #ffffff;
  /* ... */
}
/* atlassian-dark.css */
html[data-theme='dark'] {
  --ds-background-sunken: #03040442;
  --ds-background-default: #161a1d;
  --ds-background-card: #1d2125;
  --ds-background-overlay: #22272b;
  /* ... */
}
```

Each token represents a CSS custom property. A theme, such as light or dark mode, defines that CSS custom property as a specific value. For example, the token `surface.background.card` is defined as `#FFFFFF` in light mode. In dark mode, it’s defined as `#1D2125`.

The Atlassian light theme is enabled by default.

### Switching themes

To switch themes globally at runtime, use our `setGlobalTheme` method.

```tsx
import { setGlobalTheme } from '@atlaskit/tokens';

setGlobalTheme('dark');
```

This updates the data-theme attribute on your page’s HTML tag. `<html data-theme="dark" />`

## Using tokens

You can access individual tokens using the CSS custom properties mounted to the page, however, it's best to use the `token()` method to ensure you have proper prefixes, typechecking, and linting. This way, if a token ever changes, is deleted, or is used incorrectly you’ll know instantly.

The token function takes a dot-seperated token name and returns a valid CSS custom property for the corresponding token. This method will warn you if an unknown token is provided.

```tsx
import { token } from '@atlaskit/tokens';

token('color.background.default'); // var(--ds-background-default)
```

### Using fallbacks

<SectionMessage
  title="Tokens and the new Atlassian color palette are a work-in-progress. While we continue to iterate on this system, you must use fallbacks."
  appearance="warning"
>
  <p>
    Migrating an experience to tokens is done piece-by-piece. While this work is
    in-progress, you must hide the new appearance from users, generally behind a
    feature flag or user setting. This will prevent users from seeing unfinished
    and inconsistent colors and themes.
  </p>
</SectionMessage>

To ensure our experiences remain consistent for users until we are ready to launch, we provide a fallback argument to the `token()` method. This is based on the the matching feature from CSS custom properties.

When the CSS custom property is not available at runtime (when the theme CSS is not present in your app), the fallback color will render instead. The fallback color should be the color visible in your app today. Generally these are imported from the old color palette `@atlaskit/theme/colors`.

```tsx
import { N0 } from '@atlaskit/theme/colors';
import { token } from '@atlaskit/tokens';

token('color.background.default', N0); // var(--ds-background-default, #FFFFFF)
```

We also have a [Babel plugin](#babel-plugin) which can automate setting some fallback values.

## ESLint plugins

Design tokens are supported by linting rules, which warn you if a token is deprecated, missing, or has no fallback style. Design token lint rules are provided by the Design System ESLint and Stylelint plugins.

If you are an Atlassian employee, you must configure the lint rule in your repository and keep it up-to-date. If you are a partner developer, we strongly recommend you to use it as well. This will ensure any changes made to the design tokens will be highlighted in your work and let you stay up-to-date with the latest release.

### Installation

```shell
yarn add @atlaskit/eslint-plugin-design-system -D
```

### Usage

Add the plugin and rules to your `.eslintrc.js` file.

```js
plugins: [
  '@atlaskit/design-system',
],
rules: {
  "@atlaskit/design-system/ensure-design-token-usage": ["error", {
    "shouldEnforceFallbacks": true
  }],
  "@atlaskit/design-system/no-unsafe-design-token-usage": ["error", {
    "shouldEnforceFallbacks": true
  }],
  "@atlaskit/design-system/no-deprecated-design-token-usage": "warn"
}
```

## Babel plugin

We also provide a Babel plugin to optimise the runtime performance of tokens. It replaces any calls to the `token()` function in `@atlaskit/tokens` with the CSS value the function would return:

```diff
// Original code
-import { token } from '@atlaskit/tokens';
import { N0 } from ‘@atlaskit/theme/colors;
-token('test-token', N0);

// Babel plugin output
import { N0 } from ‘@atlaskit/theme/colors;
+“var(--test-token, “.concat(N0).concat(“)”);
```

If there’s no fallback, the plugin can optionally find the token’s value from the default Atlassian light theme, and sets it as the fallback. This can be enabled using the plugin option `shouldUseAutoFallback`.

### Usage

Add the plugin to your Babel configuration file.

```js
{
  "plugins": ["@atlaskit/tokens/babel-plugin"]
}
```

## Get help

Design tokens and theming are currently only recommended for use by Atlassian employees. If you’re an Atlassian employee, go to [go/tokens-early-adopters](https://atlassian.slack.com/archives/C0256AVSPHN) for questions or issues about design tokens and relevant tooling. Go to [go/help-design-system](https://atlassian.slack.com/archives/CFJ9DU39U) for all other questions related to the Atlassian Design System.

For Ecosystem developers, keep an eye out for updates in the [developer community](https://community.developer.atlassian.com/c/atlassian-ecosystem-design/21).

## Related

- If you’re converting existing experiences to use tokens, read our [migration guide](/components/tokens/migration-guide).
- See the list of [all design tokens](/components/tokens/all-tokens) for full descriptions and values for all tokens.
- See design token [code examples](/components/tokens/examples).
- See our token [changelog and other package info](/components/tokens/code).
