## API Report File for "@atlaskit/media-common"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { GasCorePayload } from '@atlaskit/analytics-gas-types';
import { default as React_2 } from 'react';

export declare const ANALYTICS_MEDIA_CHANNEL = 'media';

export declare const areEqualFeatureFlags: (
  ffA?: MediaFeatureFlags | undefined,
  ffB?: MediaFeatureFlags | undefined,
) => boolean;

declare type BaseAttributes = {};

declare type BaseEventPayload<Attributes extends BaseAttributes> = Omit<
  GasCorePayload,
  'attributes'
> & {
  attributes: Attributes;
};

export declare type ContextPublicAttributes = PackageAttributes;

export declare type ContextStaticProps = WithMediaFeatureFlags;

export declare const debounce: (
  func: Function,
  wait: number,
) => (...args: any[]) => void;

export declare const defaultMediaFeatureFlags: Required<MediaFeatureFlags>;

export declare const downloadUrl: (
  url: string,
  options?: DownloadUrlOptions | undefined,
) => void;

declare interface DownloadUrlOptions {
  name?: string;
}

export declare type FailureAttributes = {
  status: 'fail';
  failReason: string;
  error?: string;
  errorDetail?: string;
};

export declare type FileAttributes = {
  fileId: string;
  fileSize?: number;
  fileMediatype?: MediaType;
  fileMimetype?: string;
  fileSource?: string;
  fileStatus?: FileStatus;
};

export declare type FileStatus =
  | 'uploading'
  | 'processing'
  | 'processed'
  | 'error'
  | 'failed-processing';

/**
 * Takes a record of {Media Feature Flag Names â†’ boolean}.
 * Returns the Launch Darkly Keys from all products for each of the flags set as true in the input record.
 * */
export declare const filterFeatureFlagKeysAllProducts: (
  flags: RequiredMediaFeatureFlags,
) => Array<string>;

export declare const filterFeatureFlagNames: (
  flags: RequiredMediaFeatureFlags,
) => Array<keyof MediaFeatureFlags>;

/**
 * Public accessor from components to fallback to defaults if flags not passed,
 * otherwise whatever product has set will be returned.
 *
 * To override locally for testing:
 * - `localStorage[flagName] = true` to enable locally,
 * - `delete localStorage[flagName]` to remove.
 *
 * (you will see a warning in console if override used)
 * */
export declare function getMediaFeatureFlag<T = boolean>(
  flagName: keyof MediaFeatureFlags,
  featureFlags?: MediaFeatureFlags,
): T;

export declare const getMediaTypeFromMimeType: (mimeType: string) => MediaType;

export declare const isAudioMimeTypeSupportedByServer: (
  mimeType: string,
) => boolean;

export declare const isDocumentMimeTypeSupportedByBrowser: (
  mimeType: string,
) => boolean;

export declare const isDocumentMimeTypeSupportedByServer: (
  mimeType: string,
) => boolean;

export declare const isImageMimeTypeSupportedByBrowser: (
  mimeType: string,
) => boolean;

export declare const isImageMimeTypeSupportedByServer: (
  mimeType: string,
) => boolean;

export declare const isMimeTypeSupportedByBrowser: (
  mimeType: string,
) => boolean;

export declare const isMimeTypeSupportedByServer: (mimeType: string) => boolean;

export declare const isUndefined: (value: any) => boolean;

export declare const isUnknownMimeTypeSupportedByServer: (
  mimeType: string,
) => boolean;

export declare const isVideoMimeTypeSupportedByServer: (
  mimeType: string,
) => boolean;

export declare const matches: (srcObj: Object) => (obj: Object) => boolean;

export declare interface MediaFeatureFlags {
  newCardExperience?: boolean;
  captions?: boolean;
  mediaInline?: boolean;
  folderUploads?: boolean;
  observedWidth?: boolean;
  timestampOnVideo?: boolean;
  mediaUploadApiV2?: boolean;
}

export declare type MediaType =
  | 'doc'
  | 'audio'
  | 'video'
  | 'image'
  | 'archive'
  | 'unknown';

export declare interface NumericalCardDimensions {
  width: number;
  height: number;
}

export declare const omitBy: (
  obj: Object,
  predicate: Function,
) => {
  [k: string]: any;
};

export declare type OperationalAttributes =
  | BaseAttributes
  | (BaseAttributes & WithFileAttributes)
  | (BaseAttributes & WithFileAttributes & StatusAttributes)
  | (BaseAttributes &
      WithFileAttributes &
      StatusAttributes &
      WithPerformanceAttributes);

export declare type OperationalEventPayload<
  Attributes extends OperationalAttributes,
  Action extends string,
  ActionSubject extends string,
  ActionSubjectId extends string = string
> = BaseEventPayload<Attributes> & {
  eventType: 'operational';
  action: Action;
  actionSubject: ActionSubject;
  actionSubjectId?: ActionSubjectId;
};

export declare type PackageAttributes = {
  packageName: string;
  packageVersion: string;
  componentName: string;
  component: string;
};

export declare type PerformanceAttributes = {
  overall: {
    durationSincePageStart: number;
    durationSinceCommenced?: number;
  };
};

export declare const pick: (
  obj?: Object | undefined,
  keys?: Array<String>,
) => {
  [k: string]: any;
};

declare type RequiredMediaFeatureFlags = Record<
  keyof Required<MediaFeatureFlags>,
  boolean
>;

export declare type ScreenAttributes =
  | BaseAttributes
  | (BaseAttributes & WithFileAttributes);

export declare type ScreenEventPayload<
  Attributes extends ScreenAttributes,
  ActionSubject extends string
> = BaseEventPayload<Attributes> & {
  eventType: 'screen';
  actionSubject: ActionSubject;
  name: ActionSubject;
};

export declare type SSR = 'client' | 'server';

declare type StatusAttributes = SuccessAttributes | FailureAttributes;

export declare type SuccessAttributes = {
  status: 'success';
};

export declare type TrackAttributes =
  | BaseAttributes
  | (BaseAttributes & WithFileAttributes);

export declare type TrackEventPayload<
  Attributes extends TrackAttributes,
  Action extends string,
  ActionSubject extends string,
  ActionSubjectId extends string = string
> = BaseEventPayload<Attributes> & {
  eventType: 'track';
  action: Action;
  actionSubject: ActionSubject;
  actionSubjectId?: ActionSubjectId;
};

export declare type UIAttributes =
  | BaseAttributes
  | (BaseAttributes & WithFileAttributes);

export declare type UIEventPayload<
  Attributes extends UIAttributes,
  Action extends string,
  ActionSubject extends string
> = BaseEventPayload<Attributes> & {
  eventType: 'ui';
  action: Action;
  actionSubject: ActionSubject;
  actionSubjectId?: string;
};

export declare const useMemoizeFeatureFlags: (
  featureFlags?: MediaFeatureFlags | undefined,
) => MediaFeatureFlags | undefined;

export declare type WithFileAttributes = {
  fileAttributes: FileAttributes;
};

/**
 * HOC for attaching MediaAnalyticsContext to a top-level React Component.
 *
 * Similar than "packages/analytics/analytics-next/src/hocs/withAnalyticsContext.tsx",
 * except that we restrict attributes put in this context using ContextPublicAttributes and ContextPrivateAttributes.
 *
 * As a constraint, the wrapped React Component's props must extend ContextStaticProps.
 *
 * @param {ContextPublicAttributes} attributes public attributes to put in context
 *
 * @see packages/analytics/analytics-next/src/hocs/withAnalyticsContext.tsx
 */
export declare const withMediaAnalyticsContext: (
  contextPublicAttributes: ContextPublicAttributes,
  options?: {
    filterFeatureFlags?: Array<keyof MediaFeatureFlags>;
  },
) => <
  Props extends WithMediaFeatureFlags,
  Component extends React_2.ComponentType<Props>
>(
  WrappedComponent: React_2.JSXElementConstructor<Props> & Component,
) => React_2.ForwardRefExoticComponent<
  React_2.PropsWithoutRef<JSX.LibraryManagedAttributes<Component, Props>> &
    React_2.RefAttributes<any>
>;

export declare interface WithMediaFeatureFlags {
  featureFlags?: MediaFeatureFlags;
}

export declare type WithPerformanceAttributes = {
  performanceAttributes?: PerformanceAttributes;
};

export {};
```
