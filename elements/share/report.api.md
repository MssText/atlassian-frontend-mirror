## API Report File for "@atlaskit/share".

> Do not edit this file. This report is auto-generated by [API Extractor](https://api-extractor.com/).

[Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

```ts
/// <reference types="react" />

import type { Appearance } from '@atlaskit/button/types';
import type { IconProps } from '@atlaskit/icon';
import { jsx } from '@emotion/react';
import type { LoadOptions } from '@atlaskit/smart-user-picker';
import { OptionData } from '@atlaskit/smart-user-picker';
import type { Placement } from '@atlaskit/popper';
import { default as React_2 } from 'react';
import { ReactElement } from 'react';
import { TriggerProps } from '@atlaskit/popup';
import type { Value } from '@atlaskit/smart-user-picker';
import { WithAnalyticsEventsProps } from '@atlaskit/analytics-next';

export declare const ADMIN_NOTIFIED = 'admin-notified';

declare type Comment_2 = {
  format: 'plain_text' | 'adf';
  value: string;
};
export { Comment_2 as Comment };

export declare type ConfigResponse = {
  disableSharingToEmails?: boolean;
};

export declare type Content = {
  ari: string;
  link: string;
  title: string;
  type: string;
};

export declare class CopyLinkButton extends React_2.Component<Props, State> {
  private autoDismiss;
  private inputRef;
  state: {
    shouldShowCopiedMessage: boolean;
  };
  componentWillUnmount(): void;
  private clearAutoDismiss;
  private handleClick;
  private handleDismissCopiedMessage;
  renderTriggerButton: (triggerProps: TriggerProps) => jsx.JSX.Element;
  render(): jsx.JSX.Element;
}

export declare type DialogContentState = {
  users: OptionData[];
  comment: Comment_2;
};

export declare type DialogPlacement = Placement;

export declare type Flag = {
  appearance: 'success';
  title: MessageDescriptor;
  type: FlagType;
};

export declare type FlagType = 'object-shared' | 'admin-notified';

export declare type FormChildrenArgs<T> = {
  formProps: React.DetailedHTMLProps<
    React.FormHTMLAttributes<HTMLFormElement>,
    HTMLFormElement
  >;
  getValues: () => T;
};

declare type Integration = {
  type: string;
  Icon: React.ComponentType;
  Content: React.ComponentType<IntegrationContentProps>;
};

declare type IntegrationContentProps = {
  onClose: () => void;
  changeTab?: (index: TabType) => void;
};

declare type IntegrationMode = 'tabs' | 'split' | 'off';

export declare type KeysOfType<T, TProp> = {
  [P in keyof T]: T[P] extends TProp ? P : never;
}[keyof T];

export declare type MessageDescriptor = {
  id: string;
  description: string;
  defaultMessage: string;
};

export declare type MetaData = {
  productId: string;
  atlOriginId: string;
  shareeAction?: 'view' | 'edit';
};

export declare const OBJECT_SHARED = 'object-shared';

export declare type OriginAnalyticAttributes = {
  hasGeneratedId: boolean;
};

export declare type OriginTracing = {
  id: string;
  addToUrl: (link: string) => string;
  toAnalyticsAttributes: (
    attrs: OriginAnalyticAttributes,
  ) => OriginTracingWithIdGenerated | OriginTracingForSubSequentEvents;
};

export declare type OriginTracingFactory = () => OriginTracing;

export declare type OriginTracingForSubSequentEvents = {
  originId: string;
  originProduct: string;
};

export declare type OriginTracingWithIdGenerated = {
  originIdGenerated: string;
  originProduct: string;
};

/** Product ID (Canonical ID) in ARI of the share request */
export declare type ProductId =
  | 'bitbucket'
  | 'confluence'
  | 'jira-addon'
  | 'jira-core'
  | 'jira-platform'
  | 'jira-polaris'
  | 'jira-portfolio'
  | 'jira-servicedesk'
  | 'jira-software'
  | 'jira-unknown'
  | 'trello';

export declare type ProductName = 'jira' | 'confluence';

declare type Props = {
  onLinkCopy?: (link: string) => void;
  link: string;
  isDisabled?: boolean;
  copyTooltipText?: string;
  children?: string | ReactElement;
  copyLinkButtonText: string;
  copiedToClipboardText: string;
  iconBefore?: ReactElement;
};

export declare type RenderCustomTriggerButton = (
  args: {
    error?: ShareError;
    isDisabled?: boolean;
    isSelected?: boolean;
    onClick: () => void;
  },
  triggerProps: TriggerProps,
) => React.ReactNode;

export declare type ShareButtonStyle =
  | 'icon-only'
  | 'icon-with-text'
  | 'text-only';

declare interface ShareClient {
  share(
    content: Content,
    recipients: User[],
    metadata: MetaData,
    comment?: Comment_2,
  ): Promise<ShareResponse>;
  getConfig(cloudId: string): Promise<ConfigResponse>;
}

export declare type ShareContentState = {
  users: User[];
  comment?: Comment_2;
};

export declare const ShareDialogContainer: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<
      WithAnalyticsEventsProps & ShareDialogContainerProps,
      keyof WithAnalyticsEventsProps
    >,
    | 'onTriggerButtonClick'
    | 'isAutoOpenDialog'
    | 'shouldCloseOnEscapePress'
    | 'dialogPlacement'
    | 'loadUserOptions'
    | 'onDialogOpen'
    | 'onDialogClose'
    | 'onUserSelectionChange'
    | 'renderCustomTriggerButton'
    | 'shareContentType'
    | 'shareFormTitle'
    | 'shareFormHelperMessage'
    | 'showFlags'
    | 'loggedInAccountId'
    | 'triggerButtonAppearance'
    | 'triggerButtonIcon'
    | 'triggerButtonStyle'
    | 'triggerButtonTooltipPosition'
    | 'triggerButtonTooltipText'
    | 'cloudId'
    | 'bottomMessage'
    | 'customFooter'
    | 'isCopyDisabled'
    | 'isPublicLink'
    | 'integrationMode'
    | 'shareFieldsFooter'
    | 'shareIntegrations'
    | 'shareAri'
    | 'tabIndex'
    | 'copyTooltipText'
    | 'dialogZIndex'
    | 'orgId'
    | 'shareClient'
    | 'urlShortenerClient'
    | 'shortLinkData'
    | 'formatCopyLink'
    | 'originTracingFactory'
    | 'productId'
    | 'shareLink'
    | 'shareTitle'
    | 'useUrlShortener'
  > &
    Partial<
      Pick<
        Omit<
          WithAnalyticsEventsProps & ShareDialogContainerProps,
          keyof WithAnalyticsEventsProps
        >,
        'enableSmartUserPicker' | 'product' | 'shareeAction'
      >
    > &
    Partial<
      Pick<
        {
          enableSmartUserPicker: boolean;
          shareeAction: 'view' | 'edit';
          product: string;
        },
        never
      >
    > &
    React_2.RefAttributes<any>
>;

export declare type ShareDialogContainerProps = {
  onTriggerButtonClick?: () => void;
  onDialogOpen?: () => void;
  onDialogClose?: () => void;
  isAutoOpenDialog?: boolean;
  /** Share service client implementation that gets share configs and performs share.
   * Optional, a default one is provided. */
  shareClient?: ShareClient;
  /** URL Shortener service client implementation that may shorten links for copy.
   * Optional, a default one is provided. */
  urlShortenerClient?: UrlShortenerClient;
  /** Data provided to the `urlShortenerClient` to shorten the shared URL.
   * If it is not provided, the link will not be shortened.
   * If link shortening fails, the full URL will be shared instead. */
  shortLinkData?: ShortenRequest;
  /** Cloud ID of the instance.
   * Note: we assume this props is stable. */
  cloudId: string;
  /** Organisation ID of the instance. */
  orgId?: string;
  /** Placement of the modal to the trigger button. */
  dialogPlacement?: DialogPlacement;
  /**
   * Z-index that the popup should be displayed in.
   * This is passed to the portal component.
   * Defaults to `layers.modal()` from `@atlaskit/theme`.
   */
  dialogZIndex?: number;
  /** Transform function to provide custom formatted copy link.
   * Optional, a default one is provided. */
  formatCopyLink?: (origin: OriginTracing, link: string) => string;
  /** Function used to load users options asynchronously. Not needed if smart user picker is enabled. */
  loadUserOptions?: LoadOptions;
  /** Factory function to generate new Origin Tracing instance. */
  originTracingFactory: OriginTracingFactory;
  /** Product ID (Canonical ID) in ARI of the share request.
   * Note: we assume this props is stable. */
  productId: ProductId;
  /** Render function for a custom Share Dialog Trigger Button. */
  renderCustomTriggerButton?: RenderCustomTriggerButton;
  /** Atlassian Resource Identifier of a Site resource to be shared. */
  shareAri: string;
  /** Content Type of the resource to be shared. It will also affect on the successful share message in the flag. A pre-defined list as follows:*/
  /** blogpost */
  /** board */
  /** calendar */
  /** draft */
  /** filter */
  /** issue */
  /** media */
  /** page */
  /** project */
  /** pullrequest */
  /** question */
  /** report */
  /** repository */
  /** request */
  /** roadmap */
  /** site */
  /** space */
  /** Any other unlisted type will have a default message of "Link shared". */
  shareContentType: string;
  /** Link of the resource to be shared (should NOT includes origin tracing).
   * Optional, the current page URL is used by default. */
  shareLink?: string;
  /** Title of the resource to be shared that will be sent in notifications. */
  shareTitle: string;
  /** Title of the share modal. */
  shareFormTitle?: React.ReactNode;
  /** Copy for helper message to be displayed under share form input box. */
  shareFormHelperMessage?: string;
  /** To enable closing the modal on escape key press. */
  shouldCloseOnEscapePress?: boolean;
  /**
   * Callback function for showing successful share flag(s) with a parameter providing details of the flag, including the type of the message with a localized default title
   * This package has an opinion on showing flag(s) upon successful share, and Flag system is NOT provided. Instead, showFlag prop is available for this purpose.
   */
  showFlags: (flags: Array<Flag>) => void;
  /**
   * Power the user picker with smarts. To enable smart user picker, the following props are used:
   * - `product`: 'jira' or 'confluence'
   * - `loggedInAccountId`: if not provided, defaults to obtaining from request context
   * - `cloudId`
   */
  enableSmartUserPicker?: boolean;
  /**
   * The userId of the sharer. If not provided, smart user picker
   * defaults it to the value 'Context'
   * which will tell the recommendation service to extract the
   * value from the request context.
   */
  loggedInAccountId?: string;
  /** Appearance of the share modal trigger button  */
  triggerButtonAppearance?: Appearance;
  /** Share button Icon */
  triggerButtonIcon?: React.ComponentType<IconProps>;
  /** Style of the share modal trigger button. */
  triggerButtonStyle?: ShareButtonStyle;
  /** Position of the tooltip on share modal trigger button. */
  triggerButtonTooltipPosition?: TooltipPosition;
  /** Custom text of the tooltip on share modal trigger button. */
  triggerButtonTooltipText?: React.ReactNode;
  /** Message to be appended to the modal. */
  bottomMessage?: React.ReactNode;
  /** @deprecated Use the `shortLinkData` prop instead.
   *
   * Whether we should use the Atlassian Url Shortener or not.
   * Note that all products may not be supported. */
  useUrlShortener?: boolean;
  /** Action that will be performed by the recipient when he/she receives the notification. */
  shareeAction?: 'view' | 'edit';
  /**
   * Optional, this prop can be `jira` or `confluence`. Default value is `confluence`.
   * We use this prop to control different text messages in UI.
   */
  product?: ProductName;
  /**
   * Footer for the share dialog.
   */
  customFooter?: React.ReactNode;
  onUserSelectionChange?: (value: Value) => void;
  shareFieldsFooter?: React.ReactNode;
  isCopyDisabled?: boolean;
  isPublicLink?: boolean;
  integrationMode?: IntegrationMode;
  shareIntegrations?: Array<Integration>;
  /**
   * Optionally sets a tabIndex value if you need to set focus
   */
  tabIndex?: number;
  copyTooltipText?: string;
};

export declare type ShareError = {
  message: string;
};

export declare type ShareRequest = (
  content: Content,
  recipients: User[],
  metadata: MetaData,
  comment?: Comment_2,
) => Promise<ShareResponse>;

export declare type ShareResponse = {
  shareRequestId: string;
};

declare interface ShortenRequest {
  cloudId?: string;
  product: string;
  type: string;
  params: Record<string, string>;
  query?: string;
}

declare interface ShortenResponse {
  shortUrl: string;
}

declare type State = {
  shouldShowCopiedMessage: boolean;
};

declare enum TabType {
  default = 0,
  Slack = 1,
}

export declare type TooltipPosition =
  | 'top'
  | 'right'
  | 'bottom'
  | 'left'
  | 'mouse';

declare interface UrlShortenerClient {
  shorten(data: ShortenRequest): Promise<ShortenResponse>;
}

export declare type User = UserWithId | UserWithEmail;

export declare type UserWithEmail = {
  type: 'user';
  email: string;
};

export declare type UserWithId = {
  type: 'user' | 'group' | 'team';
  id: string;
};

export {};
```
