## API Report File for "@atlaskit/mention"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { IntlShape } from 'react-intl-next';
import { default as React_2 } from 'react';
import { RefObject } from 'react';
import { ServiceConfig } from '@atlaskit/util-service-support/types';
import { SyntheticEvent } from 'react';
import { WithAnalyticsEventsProps } from '@atlaskit/analytics-next';
import { WithAnalyticsEventsProps as WithAnalyticsEventsProps_2 } from '@atlaskit/analytics-next/withAnalyticsEvents';
import { WithIntlProps } from 'react-intl-next';

// @public (undocumented)
export class AbstractMentionResource
  extends AbstractResource<MentionDescription[]>
  implements MentionProvider {
  // (undocumented)
  filter(query?: string): void;
  // (undocumented)
  isFiltering(_query: string): boolean;
  // (undocumented)
  protected _notifyAllResultsListeners(mentionsResult: MentionsResult): void;
  // (undocumented)
  protected _notifyAnalyticsListeners(
    event: string,
    actionSubject: string,
    action: string,
    attributes?: {
      [key: string]: any;
    },
  ): void;
  // (undocumented)
  protected _notifyErrorListeners(error: Error, query?: string): void;
  // (undocumented)
  protected _notifyInfoListeners(info: string): void;
  // (undocumented)
  protected _notifyListeners(
    mentionsResult: MentionsResult,
    stats?: MentionStats,
  ): void;
  // (undocumented)
  recordMentionSelection(_mention: MentionDescription): void;
  // (undocumented)
  shouldHighlightMention(_mention: MentionDescription): boolean;
}

// @public (undocumented)
export class AbstractPresenceResource
  extends AbstractResource<PresenceMap>
  implements PresenceProvider {
  // (undocumented)
  protected notifyListeners(presences: PresenceMap): void;
  // (undocumented)
  refreshPresence(userIds: string[]): void;
}

// @public
export class ContextMentionResource implements MentionProvider {
  constructor(
    mentionProvider: MentionProvider,
    contextIdentifier: MentionContextIdentifier,
  );
  // (undocumented)
  callDefault: <
    K extends
      | 'filter'
      | 'recordMentionSelection'
      | 'shouldHighlightMention'
      | 'isFiltering'
      | 'subscribe'
      | 'unsubscribe'
  >(
    f: K,
  ) => MentionProvider[K];
  // (undocumented)
  callWithContextIds: <
    K extends
      | 'filter'
      | 'recordMentionSelection'
      | 'shouldHighlightMention'
      | 'isFiltering'
      | 'subscribe'
      | 'unsubscribe'
  >(
    f: K,
    declaredArgs: number,
  ) => MentionProvider[K];
  // (undocumented)
  filter: (
    query?: string | undefined,
    contextIdentifier?: MentionContextIdentifier | undefined,
  ) => void;
  // (undocumented)
  getContextIdentifier(): MentionContextIdentifier | undefined;
  // (undocumented)
  isFiltering: (query: string) => boolean;
  // (undocumented)
  recordMentionSelection: (
    mention: MentionDescription,
    contextIdentifier?: MentionContextIdentifier | undefined,
  ) => void;
  // (undocumented)
  shouldHighlightMention: (mention: MentionDescription) => boolean;
  // (undocumented)
  subscribe: (
    key: string,
    callback?: ResultCallback<MentionDescription[]> | undefined,
    errCallback?: ErrorCallback_2 | undefined,
    infoCallback?: InfoCallback | undefined,
    allResultsCallback?: ResultCallback<MentionDescription[]> | undefined,
    analyticsCallback?: AnalyticsCallback | undefined,
  ) => void;
  // (undocumented)
  unsubscribe: (key: string) => void;
}

// @public (undocumented)
export class DefaultMentionNameResolver implements MentionNameResolver {
  constructor(
    client: MentionNameClient,
    analyticsProps?: WithAnalyticsEventsProps,
  );
  // (undocumented)
  cacheName(id: string, name: string): void;
  // (undocumented)
  lookupName(id: string): Promise<MentionNameDetails> | MentionNameDetails;
  // (undocumented)
  static waitForBatch: number;
}

// @public (undocumented)
export const ELEMENTS_CHANNEL = 'fabric-elements';

// @public (undocumented)
export type InviteExperimentCohort = 'variation' | 'control' | 'not-enrolled';

// @public (undocumented)
export type InviteFlow = 'mention' | 'assign';

// @public (undocumented)
export const isResolvingMentionProvider: (
  p: any,
) => p is ResolvingMentionProvider;

// @public (undocumented)
export function isSpecialMention(mention: MentionDescription): boolean;

// @public (undocumented)
export const Mention: React_2.ForwardRefExoticComponent<
  Omit<Props_5, keyof WithAnalyticsEventsProps_2> & React_2.RefAttributes<any>
>;

// @public (undocumented)
export type Mention = MentionInternal;

// @public (undocumented)
export type MentionContextIdentifier = {
  containerId?: string;
  objectId?: string;
  childObjectId?: string;
  sessionId?: string;
};

// @public (undocumented)
export interface MentionDescription {
  // (undocumented)
  accessLevel?: string;
  // (undocumented)
  avatarUrl?: string;
  // (undocumented)
  context?: MentionDescContext;
  // (undocumented)
  highlight?: Highlight;
  // (undocumented)
  id: string;
  // (undocumented)
  inContext?: boolean;
  // (undocumented)
  lozenge?: string | LozengeProps;
  // (undocumented)
  mentionName?: string;
  // (undocumented)
  name?: string;
  // (undocumented)
  nickname?: string;
  // (undocumented)
  presence?: Presence;
  // (undocumented)
  source?: string;
  // (undocumented)
  userType?: string;
}

// @public (undocumented)
export class MentionItem extends React_2.PureComponent<Props, {}> {
  // (undocumented)
  render(): JSX.Element;
}

// @public (undocumented)
export class MentionList extends React_2.PureComponent<Props_2, State> {
  constructor(props: Props_2);
  // (undocumented)
  chooseCurrentSelection: () => void;
  // (undocumented)
  componentDidUpdate(): void;
  // (undocumented)
  mentionsCount: () => number;
  // (undocumented)
  render(): JSX.Element;
  // (undocumented)
  selectId: (id: string, callback?: (() => any) | undefined) => void;
  // (undocumented)
  selectIndex: (index: number, callback?: (() => any) | undefined) => void;
  // (undocumented)
  selectNext: () => void;
  // (undocumented)
  selectPrevious: () => void;
  // (undocumented)
  UNSAFE_componentWillReceiveProps(nextProps: Props_2): void;
}

// @public (undocumented)
export interface MentionNameClient {
  // (undocumented)
  getLookupLimit(): number;
  // (undocumented)
  lookupMentionNames(ids: string[]): Promise<MentionNameDetails[]>;
}

// @public (undocumented)
export interface MentionNameDetails {
  // (undocumented)
  id: string;
  // (undocumented)
  name?: string;
  // (undocumented)
  status: MentionNameStatus;
}

// @public (undocumented)
export interface MentionNameResolver {
  // (undocumented)
  cacheName(id: string, name: string): void;
  // (undocumented)
  lookupName(id: string): Promise<MentionNameDetails> | MentionNameDetails;
}

// @public (undocumented)
export enum MentionNameStatus {
  // (undocumented)
  OK = 2,
  // (undocumented)
  SERVICE_ERROR = 1,
  // (undocumented)
  UNKNOWN = 0,
}

// @public (undocumented)
const MentionPickerWithAnalytics: React_2.ForwardRefExoticComponent<
  Omit<
    Pick<
      WithIntlProps<
        React_2.PropsWithChildren<
          Props_4 &
            WithAnalyticsEventsProps_2 & {
              intl: IntlShape;
            }
        >
      >,
      'children' | 'createAnalyticsEvent' | keyof Props_4 | 'forwardedRef'
    > &
      React_2.RefAttributes<any>,
    keyof WithAnalyticsEventsProps_2
  > &
    React_2.RefAttributes<any>
>;

// @public (undocumented)
type MentionPickerWithAnalytics = MentionPicker_2;
export { MentionPickerWithAnalytics as MentionPicker };
export default MentionPickerWithAnalytics;

// @public (undocumented)
export interface MentionProvider
  extends ResourceProvider<MentionDescription[]>,
    InviteFromMentionProvider {
  // (undocumented)
  filter(query?: string, contextIdentifier?: MentionContextIdentifier): void;
  // (undocumented)
  isFiltering(query: string): boolean;
  // (undocumented)
  recordMentionSelection(
    mention: MentionDescription,
    contextIdentifier?: MentionContextIdentifier,
  ): void;
  // (undocumented)
  shouldHighlightMention(mention: MentionDescription): boolean;
}

// @public
export class MentionResource
  extends AbstractMentionResource
  implements ResolvingMentionProvider {
  constructor(config: MentionResourceConfig);
  // (undocumented)
  cacheMentionName(id: string, mentionName: string): void;
  // (undocumented)
  filter(
    query?: string,
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<void>;
  // (undocumented)
  inviteExperimentCohort?: InviteExperimentCohort;
  // (undocumented)
  isFiltering(query: string): boolean;
  // (undocumented)
  notify(
    searchTime: number,
    mentionResult: MentionsResult,
    query?: string,
  ): void;
  // (undocumented)
  notifyError(error: Error, query?: string): void;
  // (undocumented)
  onInviteItemClick?: (flow: InviteFlow) => void;
  // (undocumented)
  productName?: string;
  // (undocumented)
  recordMentionSelection(
    mention: MentionDescription,
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<void>;
  // (undocumented)
  recordSelection(
    mention: MentionDescription,
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<void>;
  protected remoteInitialState(
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<MentionsResult>;
  // (undocumented)
  protected remoteSearch(
    query: string,
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<MentionsResult>;
  // (undocumented)
  resolveMentionName(
    id: string,
  ): Promise<MentionNameDetails> | MentionNameDetails;
  // (undocumented)
  shouldEnableInvite: boolean;
  // (undocumented)
  shouldHighlightMention(mention: MentionDescription): boolean;
  // (undocumented)
  supportsMentionNameResolving(): boolean;
  // (undocumented)
  protected updateActiveSearches(query: string): void;
  // (undocumented)
  userRole: UserRole;
  // (undocumented)
  protected verifyMentionConfig(config: MentionResourceConfig): void;
}

// @public (undocumented)
export interface MentionResourceConfig extends ServiceConfig {
  // (undocumented)
  containerId?: string;
  // (undocumented)
  debounceTime?: number;
  // (undocumented)
  inviteExperimentCohort?: InviteExperimentCohort;
  // (undocumented)
  mentionNameResolver?: MentionNameResolver;
  // (undocumented)
  onInviteItemClick?: (flow: InviteFlow) => void;
  // (undocumented)
  productId?: string;
  // (undocumented)
  productName?: string;
  // (undocumented)
  shouldEnableInvite?: boolean;
  // (undocumented)
  shouldHighlightMention?: (mention: MentionDescription) => boolean;
  // (undocumented)
  userRole?: UserRole;
}

// @public (undocumented)
export interface MentionsResult {
  // (undocumented)
  mentions: MentionDescription[];
  // (undocumented)
  query: string;
}

// @public (undocumented)
export type MentionStats = {
  [key: string]: any;
};

// @public (undocumented)
export interface PresenceProvider extends ResourceProvider<PresenceMap> {
  // (undocumented)
  refreshPresence(userIds: string[]): void;
}

// @public (undocumented)
export class PresenceResource extends AbstractPresenceResource {
  constructor(config: PresenceResourceConfig);
  // (undocumented)
  refreshPresence(userIds: string[]): void;
}

// @public
export interface ResolvingMentionProvider extends MentionProvider {
  // (undocumented)
  cacheMentionName(id: string, mentionName: string): void;
  // (undocumented)
  resolveMentionName(
    id: string,
  ): Promise<MentionNameDetails> | MentionNameDetails;
  // (undocumented)
  supportsMentionNameResolving(): boolean;
}

// @public (undocumented)
export class ResourcedMention extends React_2.PureComponent<Props_6, State_4> {
  constructor(props: Props_6);
  // (undocumented)
  componentDidMount(): void;
  // (undocumented)
  componentWillUnmount(): void;
  // (undocumented)
  _isMounted: boolean;
  // (undocumented)
  render(): JSX.Element;
  // (undocumented)
  UNSAFE_componentWillReceiveProps(nextProps: Props_6): void;
}

// @public (undocumented)
export const ResourcedMentionList: React_2.ForwardRefExoticComponent<
  Omit<Props_3 & WithAnalyticsEventsProps, keyof WithAnalyticsEventsProps> &
    React_2.RefAttributes<any>
>;

// @public (undocumented)
export type ResourcedMentionList = ResourcedMentionListWithoutAnalytics;

// @public (undocumented)
export interface TeamMember {
  // (undocumented)
  id: string;
  // (undocumented)
  name: string;
}

// @public (undocumented)
export const TeamMentionHighlight: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<Props_7, keyof WithAnalyticsEventsProps_2>,
    'onClose' | 'onCreateTeamLinkClick' | 'onViewed'
  > &
    Partial<
      Pick<Omit<Props_7, keyof WithAnalyticsEventsProps_2>, 'createTeamLink'>
    > &
    Partial<
      Pick<
        {
          createTeamLink: string;
        },
        never
      >
    > &
    React_2.RefAttributes<any>
>;

// @public (undocumented)
export type TeamMentionHighlight = TeamMentionHighlightInternal;

// @public (undocumented)
export class TeamMentionHighlightController {
  // (undocumented)
  static getSeenCount: () => number;
  // (undocumented)
  static isHighlightEnabled: () => boolean;
  // (undocumented)
  static registerClosed: () => void;
  // (undocumented)
  static registerCreateLinkClick: () => void;
  // (undocumented)
  static registerRender: () => TeamMentionState;
  // (undocumented)
  static registerTeamMention: () => void;
}

// @public
export class TeamMentionResource
  extends MentionResource
  implements TeamMentionProvider {
  constructor(
    userMentionConfig: MentionResourceConfig,
    teamMentionConfig: TeamMentionResourceConfig,
  );
  // (undocumented)
  filter(
    query?: string,
    contextIdentifier?: MentionContextIdentifier,
  ): Promise<void>;
  // (undocumented)
  mentionTypeaheadCreateTeamPath: () => string | undefined;
  // (undocumented)
  mentionTypeaheadHighlightEnabled: () => boolean;
  // (undocumented)
  notify(
    searchTime: number,
    mentionResult: MentionsResult,
    query?: string,
  ): void;
}

// @public (undocumented)
export interface TeamMentionResourceConfig extends MentionResourceConfig {
  // (undocumented)
  createTeamPath?: string;
  // (undocumented)
  teamHighlightEnabled?: boolean;
  // (undocumented)
  teamLinkResolver?: (teamId: string) => string;
}

// @public (undocumented)
export enum UserAccessLevel {
  // (undocumented)
  APPLICATION = 2,
  // (undocumented)
  CONTAINER = 3,
  // (undocumented)
  NONE = 0,
  // (undocumented)
  SITE = 1,
}

// @public (undocumented)
export type UserRole = 'admin' | 'trusted' | 'basic';

// @public (undocumented)
export enum UserType {
  // (undocumented)
  APP = 2,
  // (undocumented)
  DEFAULT = 0,
  // (undocumented)
  SPECIAL = 1,
  // (undocumented)
  SYSTEM = 4,
  // (undocumented)
  TEAM = 3,
}

// (No @packageDocumentation comment for this package)
```
