## API Report File for "@atlaskit/linking-common".

> Do not edit this file. This report is auto-generated by [API Extractor](https://api-extractor.com/).

[Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

```ts
import { AnyAction } from 'redux';
import { JsonLd } from 'json-ld-types';
import { Store } from 'redux';

export declare const ACTION_ERROR = 'errored';

export declare const ACTION_ERROR_FALLBACK = 'fallback';

export declare const ACTION_PENDING = 'pending';

export declare const ACTION_PRELOAD = 'preload';

export declare const ACTION_RELOADING = 'reloading';

export declare const ACTION_RESOLVED = 'resolved';

export declare const ACTION_RESOLVING = 'resolving';

export declare const ACTION_UPDATE_METADATA_STATUS = 'metadata';

export declare class APIError extends Error {
  readonly kind: APIErrorKind;
  readonly hostname: string;
  readonly message: string;
  readonly type?: ErrorType | undefined;
  constructor(
    kind: APIErrorKind,
    hostname: string,
    message: string,
    type?: ErrorType | undefined,
  );
}

export declare type APIErrorKind = 'fatal' | 'auth' | 'error' | 'fallback';

export declare interface BlockCardAdf {
  type: 'blockCard';
  attrs: {
    url: string;
  };
}

export declare interface CardAction<T = JsonLd.Response> extends AnyAction {
  type: CardActionType;
  url: string;
  payload?: T;
  metadataStatus?: MetadataStatus;
}

export declare const cardAction: CardBaseActionCreator;

export declare type CardActionParams = {
  url: string;
};

export declare type CardActionType =
  | 'pending'
  | 'resolving'
  | 'resolved'
  | 'errored'
  | 'fallback'
  | 'reloading'
  | 'metadata';

export declare type CardAdf = InlineCardAdf | BlockCardAdf | EmbedCardAdf;

export declare type CardAppearance = 'inline' | 'block' | 'embed';

export declare type CardBaseActionCreator<T = JsonLd.Response> = (
  type: CardActionType,
  params: CardActionParams,
  payload?: T,
  error?: APIError,
  metadataStatus?: MetadataStatus,
  ignoreStatusCheck?: boolean,
) => CardAction<T>;

export declare type CardPlatform = JsonLd.Primitives.Platforms;

export declare interface CardState {
  status: CardType;
  details?: JsonLd.Response;
  /** @deprecated Feature removed (EDM-2205) */
  lastUpdatedAt?: number;
  error?: APIError;
  metadataStatus?: MetadataStatus;
}

export declare interface CardStore {
  [key: string]: CardState;
}

export declare type CardType =
  | 'pending'
  | 'resolving'
  | 'resolved'
  | 'errored'
  | 'fallback'
  | 'unauthorized'
  | 'forbidden'
  | 'errored'
  | 'not_found';

export declare interface EmbedCardAdf {
  type: 'embedCard';
  attrs: {
    url: string;
    layout: 'wide';
  };
}

export declare type ErrorType = ServerErrorType | 'UnexpectedError';

export declare const extractPreview: (
  jsonLd: JsonLd.Data.BaseData,
  platform?: JsonLd.Primitives.Platforms | undefined,
) => LinkPreview_2 | undefined;

export declare const extractUrlFromLinkJsonLd: (
  link: JsonLd.Primitives.Link | JsonLd.Primitives.Link[],
) => string | undefined;

export declare const getUrl: (
  store: Store<CardStore>,
  url: string,
) => CardState;

export declare interface InlineCardAdf {
  type: 'inlineCard';
  attrs: {
    url: string;
  };
}

export declare type InvocationContext = {
  /**
   * The parent context of the resource on which this action is being invoked.
   * See `InvocationSearchRequest` in ORS `openapi.yml`.
   */
  id: string;
};

export declare type InvocationSearchPayload = {
  query: string;
  context?: InvocationContext;
};

export declare interface InvokePayload<T> {
  key: string;
  context?: string;
  action: T;
}

export declare interface LinkingPlatformFeatureFlags {
  showHoverPreview?: boolean;
}

/**
 * @deprecated This has been moved to `@atlaskit/linking-common/extractors`
 */
export declare interface LinkPreview {
  src?: string;
  content?: string;
  aspectRatio?: number;
}

declare interface LinkPreview_2 {
  src?: string;
  content?: string;
  aspectRatio?: number;
}

export declare type MetadataStatus = 'pending' | 'resolved' | 'errored';

/**
 * Given a callback function returns a promise that resolves to the result of calling the callback function but is
 * debounced. Calling the returned function will return a new promise but each promise will resolve to the return value
 * of this single callback call
 * @param cb Callback which returns result to be resolved
 * @param time Debounce interval
 * @returns Function that returns debounced promise
 */
export declare function promiseDebounce<
  Args extends unknown[],
  ResolveType extends unknown
>(
  cb: (...args: Args) => Promise<ResolveType>,
  time: number,
): (...args: Args) => Promise<ResolveType>;

export declare interface ServerActionOpts {
  type: string;
  payload: ServerActionPayload;
}

export declare interface ServerActionPayload {
  id: string;
  context?: JsonLd.Primitives.Object | JsonLd.Primitives.Link;
}

export declare type ServerErrorType =
  | 'ResolveBadRequestError'
  | 'ResolveAuthError'
  | 'ResolveUnsupportedError'
  | 'ResolveFailedError'
  | 'ResolveTimeoutError'
  | 'InternalServerError';

export {};
```
