## API Report File for "@atlaskit/link-provider"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
/// <reference types="react" />

import { CardAdf } from '@atlaskit/linking-common';
import { CardAppearance } from '@atlaskit/linking-common';
import { CardPlatform } from '@atlaskit/linking-common';
import { CardStore } from '@atlaskit/linking-common';
import { Context } from 'react';
import { InvocationSearchPayload } from '@atlaskit/linking-common';
import { InvokePayload } from '@atlaskit/linking-common';
import { JsonLd } from 'json-ld-types';
import { LinkingPlatformFeatureFlags } from '@atlaskit/linking-common';
import { LinkPreview } from '@atlaskit/linking-common/extractors';
import { ServerActionOpts } from '@atlaskit/linking-common';
import { Store } from 'redux';

declare const BaseUrls: {
  dev: string;
  development: string;
  stg: string;
  staging: string;
  prd: string;
  prod: string;
  production: string;
};

export declare interface CardAuthFlowOpts {
  authFlow?: 'oauth2' | 'disabled';
}

export declare class CardClient implements CardClient_2 {
  private resolverUrl;
  private loadersByDomain;
  private retryConfig;
  private resolvedCache;
  constructor(envKey?: EnvironmentsKeys);
  private batchResolve;
  private createLoader;
  private getLoader;
  prefetchData(url: string): Promise<JsonLd.Response | undefined>;
  fetchData(url: string): Promise<JsonLd.Response>;
  postData(data: InvokePayload<InvokeRequest>): Promise<JsonLd.Response>;
  /**
   * Make request to the Search endpoint See `InvocationRequest` in ORS openapi.yaml for backend
   * spec.
   * @param data Payload including the search provider key and query. An empty search query string
   * results in recent results being returned (pre-query).
   * @returns JsonLd collection of search results.
   */
  search(
    data: InvokePayload<InvocationSearchPayload>,
  ): Promise<JsonLd.Collection>;
}

declare interface CardClient_2 {
  fetchData(url: string): Promise<JsonLd.Response>;
  prefetchData(url: string): Promise<JsonLd.Response | undefined>;
  postData(data: InvokePayload<ServerActionOpts>): Promise<JsonLd.Response>;
}

declare interface CardConnections {
  client: CardClient;
}

export declare interface CardContext {
  store: Store<CardStore>;
  prefetchStore: Record<string, boolean>;
  connections: CardConnections;
  config: CardProviderCacheOpts & CardAuthFlowOpts;
  extractors: {
    getPreview: (
      url: string,
      platform?: CardPlatform,
    ) => LinkPreview | undefined;
  };
  renderers?: CardProviderRenderers;
  featureFlags?: LinkingPlatformFeatureFlags;
}

declare interface CardProvider {
  resolve(
    url: string,
    appearance: CardAppearance,
    shouldForceAppearance?: boolean,
  ): Promise<any>;
}

/** @deprecated Feature removed (EDM-2205) */
export declare interface CardProviderCacheOpts {
  maxAge?: number;
  maxLoadingDelay?: number;
}

export declare interface CardProviderRenderers {
  adf?: (adf: string) => React.ReactNode;
  emoji?: (emoji?: string, parentComponent?: CardAppearance) => React.ReactNode;
}

export declare interface CardProviderStoreOpts {
  initialState: CardStore;
}

export declare class EditorCardProvider implements CardProvider {
  private baseUrl;
  private resolverUrl;
  private providersData?;
  private requestHeaders;
  private transformer;
  private providersLoader;
  private checkedUrls;
  constructor(envKey?: EnvironmentsKeys);
  private batchProviders;
  private check;
  private fetchProvidersData;
  findPattern(url: string): Promise<boolean>;
  private doesUrlMatchPath;
  private findUserPreference;
  private findPatternData;
  private getHardCodedAppearance;
  resolve(
    url: string,
    appearance: CardAppearance,
    shouldForceAppearance?: boolean,
  ): Promise<CardAdf>;
}

export declare const editorCardProvider: EditorCardProvider;

export declare type EnvironmentsKeys = keyof typeof BaseUrls;

declare type InvokeRequest = ServerActionOpts;

export declare type ProviderProps = {
  client?: CardClient;
  /** @deprecated Feature removed (EDM-2205) */
  cacheOptions?: CardProviderCacheOpts;
  storeOptions?: CardProviderStoreOpts;
  children: React.ReactNode;
  renderers?: CardProviderRenderers;
  featureFlags?: LinkingPlatformFeatureFlags & {
    [flag: string]: unknown;
  };
} & CardAuthFlowOpts;

export declare const SmartCardContext: Context<CardContext | undefined>;

export declare function SmartCardProvider({
  storeOptions,
  client: customClient,
  authFlow: customAuthFlow,
  children,
  renderers,
  featureFlags,
}: ProviderProps): JSX.Element;

export declare function useFeatureFlag(
  featureFlag: keyof LinkingPlatformFeatureFlags,
): boolean | undefined;

export declare function useSmartLinkContext(): CardContext;

export {};
```
