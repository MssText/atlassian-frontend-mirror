## API Report File for "@atlaskit/collab-provider"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import type { AnalyticsWebClient } from '@atlaskit/analytics-listeners';
import { CollabEditProvider } from '@atlaskit/editor-common/collab';
import type { CollabEventConnectionData } from '@atlaskit/editor-common/collab';
import type { CollabEventInitData } from '@atlaskit/editor-common/collab';
import type { CollabEventPresenceData } from '@atlaskit/editor-common/collab';
import type { CollabEventRemoteData } from '@atlaskit/editor-common/collab';
import type { CollabEventTelepointerData } from '@atlaskit/editor-common/collab';
import type { CollabParticipant } from '@atlaskit/editor-common/collab';
import { EditorState } from 'prosemirror-state';
import type { Manager } from 'socket.io-client';
import { ResolvedEditorState } from '@atlaskit/editor-common/collab';
import type { Step } from 'prosemirror-transform';
import { SyncUpErrorFunction } from '@atlaskit/editor-common/types';
import { Transaction } from 'prosemirror-state';

// @public (undocumented)
export type CollabConnectedPayload = CollabEventConnectionData;

// @public (undocumented)
export interface CollabDataPayload extends CollabEventRemoteData {
  // (undocumented)
  json: StepJson[];
  // (undocumented)
  userIds: string[];
  // (undocumented)
  version: number;
}

// @public (undocumented)
export interface CollabDisconnectedPayload {
  // (undocumented)
  reason: DisconnectReason;
  // (undocumented)
  sid: string;
}

// @public (undocumented)
export interface CollabErrorPayload {
  // (undocumented)
  code: string;
  // (undocumented)
  message: string;
  // (undocumented)
  status: number;
}

// @public (undocumented)
export interface CollabEvents {
  // (undocumented)
  'local-steps': CollabLocalStepsPayload;
  // (undocumented)
  'metadata:changed': CollabMetadataPayload;
  // (undocumented)
  connected: CollabConnectedPayload;
  // (undocumented)
  data: CollabDataPayload;
  // (undocumented)
  disconnected: CollabDisconnectedPayload;
  // (undocumented)
  entity: any;
  // (undocumented)
  error: CollabErrorPayload;
  // (undocumented)
  init: CollabInitPayload;
  // (undocumented)
  presence: CollabPresencePayload;
  // (undocumented)
  telepointer: CollabTelepointerPayload;
}

// @public (undocumented)
export interface CollabInitPayload extends CollabEventInitData {
  // (undocumented)
  doc: any;
  // (undocumented)
  metadata?: Metadata_2;
  // (undocumented)
  userId?: string;
  // (undocumented)
  version: number;
}

// @public (undocumented)
export type CollabLocalStepsPayload = {
  steps: Step[];
};

// @public (undocumented)
export type CollabMetadataPayload = Metadata_2;

// @public (undocumented)
export type CollabPresencePayload = CollabEventPresenceData;

// @public (undocumented)
export type CollabTelepointerPayload = CollabEventTelepointerData;

// @public (undocumented)
export class Provider extends Emitter<CollabEvents> implements BaseEvents {
  constructor(config: Config);
  // (undocumented)
  destroy(): this;
  // (undocumented)
  disconnect(): this;
  // (undocumented)
  getFinalAcknowledgedState: () => Promise<ResolvedEditorState>;
  initialize(getState: () => EditorState): this;
  send(
    _tr: Transaction | null,
    _oldState: EditorState | null,
    newState: EditorState,
  ): void;
  sendMessage(data: any): void;
  // (undocumented)
  setEditorWidth(editorWidth: string, broadcast?: boolean): void;
  // (undocumented)
  setMetadata(metadata: Metadata_2): void;
  // (undocumented)
  setTitle(title: string, broadcast?: boolean): void;
  // (undocumented)
  setup({
    getState,
    onSyncUpError,
  }: {
    getState: () => EditorState;
    onSyncUpError?: SyncUpErrorFunction;
  }): this;
  unsubscribeAll(): this;
}

// @public (undocumented)
export interface Socket extends SimpleEventEmitter {
  // (undocumented)
  close(): Socket;
  // (undocumented)
  connect(): Socket;
  // (undocumented)
  emit(event: string, ...args: any[]): Socket;
  // (undocumented)
  id: string;
  // (undocumented)
  io?: Manager;
}

// (No @packageDocumentation comment for this package)
```
