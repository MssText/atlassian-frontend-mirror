## API Report File for "@atlaskit/react-experiment-framework"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
/// <reference types="react" />

import { Component } from 'react';
import { ComponentType } from 'react';
import { Consumer } from 'react';
import { Provider } from 'react';
import { default as React_2 } from 'react';
import { ReactNode } from 'react';

export declare function asExperiment(
  experimentComponentMap: ExperimentComponentMap,
  experimentKey: string,
  callbacks: {
    onError: (error: Error, options?: ExperimentEnrollmentOptions) => void;
    onExposure: (
      exposureDetails: ExposureDetails,
      options?: ExperimentEnrollmentOptions,
    ) => void;
  },
  LoadingComponent?: ComponentType,
): {
  new (props: Readonly<Record<string, any>>): {
    state: {
      forceFallback: boolean;
      options: undefined;
    };
    onReceiveContext: (
      experiments: Experiments,
      options?: ExperimentEnrollmentOptions | undefined,
    ) => JSX.Element | null;
    componentDidCatch(err: Error): void;
    renderFallback: () => JSX.Element;
    render(): JSX.Element;
    context: any;
    setState<K extends 'forceFallback'>(
      state:
        | State
        | ((
            prevState: Readonly<State>,
            props: Readonly<Record<string, any>>,
          ) => State | Pick<State, K> | null)
        | Pick<State, K>
        | null,
      callback?: (() => void) | undefined,
    ): void;
    forceUpdate(callBack?: (() => void) | undefined): void;
    readonly props: Readonly<Record<string, any>> &
      Readonly<{
        children?: React_2.ReactNode;
      }>;
    refs: {
      [key: string]: React_2.ReactInstance;
    };
    componentDidMount?(): void;
    shouldComponentUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): boolean;
    componentWillUnmount?(): void;
    getSnapshotBeforeUpdate?(
      prevProps: Readonly<Record<string, any>>,
      prevState: Readonly<State>,
    ): any;
    componentDidUpdate?(
      prevProps: Readonly<Record<string, any>>,
      prevState: Readonly<State>,
      snapshot?: any,
    ): void;
    componentWillMount?(): void;
    UNSAFE_componentWillMount?(): void;
    componentWillReceiveProps?(
      nextProps: Readonly<Record<string, any>>,
      nextContext: any,
    ): void;
    UNSAFE_componentWillReceiveProps?(
      nextProps: Readonly<Record<string, any>>,
      nextContext: any,
    ): void;
    componentWillUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): void;
    UNSAFE_componentWillUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): void;
  };
  new (props: Record<string, any>, context?: any): {
    state: {
      forceFallback: boolean;
      options: undefined;
    };
    onReceiveContext: (
      experiments: Experiments,
      options?: ExperimentEnrollmentOptions | undefined,
    ) => JSX.Element | null;
    componentDidCatch(err: Error): void;
    renderFallback: () => JSX.Element;
    render(): JSX.Element;
    context: any;
    setState<K extends 'forceFallback'>(
      state:
        | State
        | ((
            prevState: Readonly<State>,
            props: Readonly<Record<string, any>>,
          ) => State | Pick<State, K> | null)
        | Pick<State, K>
        | null,
      callback?: (() => void) | undefined,
    ): void;
    forceUpdate(callBack?: (() => void) | undefined): void;
    readonly props: Readonly<Record<string, any>> &
      Readonly<{
        children?: React_2.ReactNode;
      }>;
    refs: {
      [key: string]: React_2.ReactInstance;
    };
    componentDidMount?(): void;
    shouldComponentUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): boolean;
    componentWillUnmount?(): void;
    getSnapshotBeforeUpdate?(
      prevProps: Readonly<Record<string, any>>,
      prevState: Readonly<State>,
    ): any;
    componentDidUpdate?(
      prevProps: Readonly<Record<string, any>>,
      prevState: Readonly<State>,
      snapshot?: any,
    ): void;
    componentWillMount?(): void;
    UNSAFE_componentWillMount?(): void;
    componentWillReceiveProps?(
      nextProps: Readonly<Record<string, any>>,
      nextContext: any,
    ): void;
    UNSAFE_componentWillReceiveProps?(
      nextProps: Readonly<Record<string, any>>,
      nextContext: any,
    ): void;
    componentWillUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): void;
    UNSAFE_componentWillUpdate?(
      nextProps: Readonly<Record<string, any>>,
      nextState: Readonly<State>,
      nextContext: any,
    ): void;
  };
  displayName: string;
  contextType?: React_2.Context<any> | undefined;
};

export declare class CohortTracker extends Component<Props> {
  static displayName: string;
  componentDidMount(): void;
  render(): null;
}

export declare type EnrollmentDetails = {
  cohort: string;
  isEligible: boolean;
  ineligibilityReasons?: string[];
};

declare type EnrollmentOptions = {
  [experimentKey: string]: any;
};

declare type ExperimentComponentMap = {
  fallback: ComponentType<any>;
  [key: string]: ComponentType<any>;
};

export declare const ExperimentConsumer: Consumer<ExperimentContext>;

export declare type ExperimentContext = {
  experiments: Experiments;
  options?: ExperimentEnrollmentOptions;
};

export declare class ExperimentController extends Component<Props_2, State_2> {
  static displayName: string;
  resolverPromises: ResolverPromises;
  constructor(props: Props_2);
  resolveEnrollmentForExperiment(
    experimentKey: ExperimentKey,
  ): Promise<EnrollmentDetails>;
  render(): JSX.Element;
}

export declare type ExperimentDetails =
  | {
      isEnrollmentDecided: false;
      enrollmentResolver: ExperimentEnrollmentResolver;
    }
  | {
      isEnrollmentDecided: true;
      enrollmentDetails?: EnrollmentDetails;
    };

export declare type ExperimentEnrollmentConfig = {
  [experimentKey: string]: ExperimentEnrollmentResolver;
};

export declare type ExperimentEnrollmentOptions =
  | EnrollmentOptions
  | OptionsResolver;

export declare type ExperimentEnrollmentResolver = (
  options?: ExperimentEnrollmentOptions,
) => EnrollmentDetails | Promise<EnrollmentDetails>;

export declare type ExperimentKey = string;

export declare const ExperimentProvider: Provider<ExperimentContext>;

export declare type Experiments = {
  [experimentKey: string]: ExperimentDetails;
};

export declare type ExposureDetails = EnrollmentDetails & {
  experimentKey: ExperimentKey;
};

declare type OptionsResolver = (
  experimentKey: ExperimentKey,
) => EnrollmentOptions;

declare interface Props {
  exposureDetails: ExposureDetails;
  onExposure: (
    exposureDetails: ExposureDetails,
    options?: ExperimentEnrollmentOptions,
  ) => void;
  options?: ExperimentEnrollmentOptions;
}

declare type Props_2 = {
  experimentEnrollmentConfig: ExperimentEnrollmentConfig;
  experimentEnrollmentOptions?: ExperimentEnrollmentOptions;
  children?: ReactNode;
};

declare type ResolverPromises = {
  [experimentKey: string]: Promise<EnrollmentDetails>;
};

declare type State = {
  forceFallback: boolean;
};

declare type State_2 = {
  experiments: Experiments;
};

export {};
```
